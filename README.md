# MaiEcho ğŸµ

<div align="center">

![Go Version](https://img.shields.io/badge/Go-1.21+-00ADD8?style=flat-square&logo=go)
![License](https://img.shields.io/badge/License-MIT-green?style=flat-square)
![Status](https://img.shields.io/badge/Status-Active_Development-orange?style=flat-square)
![PRs Welcome](https://img.shields.io/badge/PRs-welcome-brightgreen.svg?style=flat-square)

**å¬è§è°±é¢çš„å£°éŸ³ | Hear the Echo of Charts**

MaiEcho æ˜¯ä¸€ä¸ªå¼€æºçš„éŸ³æ¸¸èˆ†æƒ…åˆ†ææ™ºèƒ½ä½“æ¡†æ¶ï¼Œä¸“æ³¨äº **èˆèŒï¼ˆmaimaiï¼‰** ä¹æ›²ä¸è°±é¢è¯„ä»·çš„ç»¼åˆåˆ†æã€‚

[åŠŸèƒ½ç‰¹æ€§](#-åŠŸèƒ½ç‰¹æ€§) â€¢ [å¿«é€Ÿå¼€å§‹](#-å¿«é€Ÿå¼€å§‹) â€¢ [æ–‡æ¡£ä¸­å¿ƒ](docs/documentation_index.md) â€¢ [æ¶æ„è®¾è®¡](#-æ¶æ„è®¾è®¡) â€¢ [API æ–‡æ¡£](#-api-æ–‡æ¡£) â€¢ [è´¡çŒ®æŒ‡å—](#-è´¡çŒ®æŒ‡å—)

</div>

---

## ğŸ“– ç®€ä»‹ (Introduction)

**MaiEcho** ä¸ä»…ä»…æ˜¯ä¸€ä¸ªçˆ¬è™«ï¼Œå®ƒæ˜¯ä¸€ä¸ªæ‡‚éŸ³æ¸¸çš„ **AI æ™ºèƒ½ä½“**ã€‚

å…³äºéŸ³æ¸¸è°±é¢çš„è¯„ä»·ï¼Œå¸¸æ•£è½åœ¨ Bilibili è§†é¢‘è¯„è®ºã€è´´å§è®¨è®ºå’Œå„ç§ Wiki ä¸­ã€‚æ–°æ‰‹ç©å®¶å¾€å¾€éš¾ä»¥ä»æµ·é‡çš„â€œé»‘è¯â€å’Œæƒ…ç»ªåŒ–å‘è¨€ä¸­è·å–æœ‰ä»·å€¼çš„ä¿¡æ¯ã€‚

MaiEcho å‚è€ƒäº†èˆ†æƒ…ç›‘æµ‹ç³»ç»Ÿçš„åŸç†ï¼Œé€šè¿‡ä»¥ä¸‹æµç¨‹è§£å†³è¿™ä¸ªé—®é¢˜ï¼š

1. **å¬ (Listen)**: ä»ç¤¾äº¤åª’ä½“æŠ“å–å…³äºç‰¹å®šä¹æ›²çš„è¯„è®ºæ•°æ®ã€‚
2. **æƒ³ (Think)**: åˆ©ç”¨å¤§è¯­è¨€æ¨¡å‹ç†è§£éŸ³æ¸¸æœ¯è¯­ï¼Œå»é™¤å‚è€ƒä»·å€¼è¾ƒå°çš„å™ªå£°ã€‚
3. **åˆ† (Sort)**: æ™ºèƒ½åŒºåˆ† **DX** ä¸ **æ ‡å‡†** è°±é¢ï¼Œé¿å…å¼ å† ææˆ´ã€‚
4. **è¯´ (Speak)**: ç”Ÿæˆç»“æ„åŒ–çš„è°±é¢ç®€ä»‹ã€éš¾ç‚¹è§£æåŠæ¨åˆ†å»ºè®®ã€‚

> æœ¬é¡¹ç›®è®¾è®¡çµæ„Ÿæ¥æºäº Github "å¾®èˆ†" é¡¹ç›®æ¡†æ¶ï¼Œé’ˆå¯¹éŸ³æ¸¸å‚ç›´é¢†åŸŸè¿›è¡Œäº†æ·±åº¦å®šåˆ¶ã€‚

## âœ¨ åŠŸèƒ½ç‰¹æ€§ (Features)

* **æ‡‚é»‘è¯çš„ AI åˆ†æ**: å†…ç½®éŸ³æ¸¸æœ¯è¯­çŸ¥è¯†åº“ï¼Œèƒ½ç†è§£â€œé¸ŸåŠ â€ã€â€œçºµè¿â€ã€â€œæµ·åº•æ½­â€ã€â€œç»èµâ€ç­‰ä¸“ä¸šæœ¯è¯­ï¼Œä»æ‚ä¹±çš„è¯„è®ºä¸­æå–æ ¸å¿ƒè§‚ç‚¹ã€‚
* **æ™ºèƒ½åˆ†æ¡¶ (Bucket Analysis)**: ç‹¬åˆ›çš„ä¸Šä¸‹æ–‡è§£æç®—æ³•ï¼Œè‡ªåŠ¨æ ¹æ®è§†é¢‘æ ‡é¢˜å°†è¯„è®ºå½’ç±»åˆ°æ­£ç¡®çš„è°±é¢ç‰ˆæœ¬ï¼ˆDX/æ ‡å‡†ï¼‰å’Œéš¾åº¦ï¼ˆExpert/Master/Re:Masterï¼‰ï¼Œæ‹’ç»è¯„ä»·æ··æ·†ã€‚
* **å¤šæºæ•°æ®é‡‡é›†**:
  * **Bilibili**: æ”¯æŒè§†é¢‘è¯„è®ºã€åŠ¨æ€æŠ“å–ã€‚
  * *(è®¡åˆ’ä¸­)*: ç™¾åº¦è´´å§ã€å°çº¢ä¹¦ã€æŠ–éŸ³ã€‚
* **æ•°æ®åŒæ­¥**: é›†æˆ **Diving-Fish (æ°´é±¼)** APIï¼Œè‡ªåŠ¨åŒæ­¥æœ€æ–°çš„ä¹æ›²åˆ—è¡¨ã€å®šæ•°åŠæ‹Ÿåˆéš¾åº¦æ•°æ®ã€‚
* **ç»†ç²’åº¦æŠ¥å‘Š**: ä¸ä»…æä¾›æ­Œæ›²ç»´åº¦çš„å®è§‚è¯„ä»·ï¼Œæ›´æä¾›å…·ä½“åˆ°æ¯ä¸€ä¸ªè°±é¢ï¼ˆChartï¼‰çš„å¾®è§‚æ”»ç•¥ã€‚
* **RESTful API**: æä¾›æ ‡å‡†çš„ HTTP æ¥å£ï¼Œæ˜“äºé›†æˆåˆ°å‰ç«¯ç½‘é¡µæˆ– QQ/å¾®ä¿¡ æœºå™¨äººä¸­ã€‚

## ğŸ› ï¸ æŠ€æœ¯æ ˆ (Tech Stack)

* **Language**: Golang 1.21+
* **Web Framework**: Gin
* **Database**: SQLite (Default) / PostgreSQL (Supported) + GORM
* **Crawler**: Colly + Go-Rod
* **LLM SDK**: OpenAI-Go (Compatible with DeepSeek, Qwen, etc.)
* **Config**: Viper

## ğŸš€ å¿«é€Ÿå¼€å§‹ (Quick Start)

### å‰ç½®è¦æ±‚

* Go 1.21 æˆ–æ›´é«˜ç‰ˆæœ¬
* Git
* ä¸€ä¸ªå…¼å®¹ OpenAI æ¥å£çš„ API Key (å¦‚ OpenAI, DeepSeek, é˜¿é‡Œäº‘ DashScope)

### å®‰è£…æ­¥éª¤

1. **å…‹éš†ä»“åº“**

   ```bash
   git clone https://github.com/your-username/MaiEcho.git
   cd MaiEcho
   ```
2. **é…ç½®ç¯å¢ƒ**
   å¤åˆ¶é…ç½®æ–‡ä»¶æ¨¡æ¿å¹¶ä¿®æ”¹ï¼š

   ```bash
   cp server/config/config.example.yaml server/config/config.yaml
   ```

   ç¼–è¾‘ `server/config/config.yaml`ï¼Œå¡«å…¥ä½ çš„ LLM API Key å’Œæ•°æ®åº“é…ç½®ã€‚
3. **è¿è¡ŒæœåŠ¡**

   ```bash
   go mod tidy
   go run ./server/cmd/maiecho
   ```
4. **éªŒè¯**
   è®¿é—® `http://localhost:8080/api/v1/system/status`ï¼Œå¦‚æœè¿”å› `{"status": "ok"}` åˆ™å¯åŠ¨æˆåŠŸã€‚

## ğŸ—ï¸ æ¶æ„è®¾è®¡ (Architecture)

MaiEcho é‡‡ç”¨æ¨¡å—åŒ–åˆ†å±‚æ¶æ„ï¼Œç¡®ä¿å„ç»„ä»¶èŒè´£å•ä¸€ä¸”æ˜“äºæ‰©å±•ã€‚

```mermaid
flowchart LR
    User[ç”¨æˆ·/å®¢æˆ·ç«¯] --> API[API ç½‘å…³]
  
    subgraph MaiEcho_Server [MaiEcho Server]
        API --> Service[ä¸šåŠ¡æœåŠ¡å±‚]
  
        Service --> Collector["é‡‡é›†å±‚ (The Ears)"]
        Service --> Agent["æ™ºèƒ½ä½“å±‚ (The Brain)"]
        Service --> Storage["å­˜å‚¨å±‚ (The Memory)"]
    end
```

* **Collector**: è´Ÿè´£â€œå¬â€ã€‚å®ç°äº†æŒ‡æ•°é€€é¿é‡è¯•ã€WAF ç»•è¿‡å’Œæ•°æ®æ¸…æ´—ã€‚
* **Agent**: è´Ÿè´£â€œæƒ³â€ã€‚é‡‡ç”¨ **Split-Apply-Combine** ç­–ç•¥ï¼Œå¯¹ä¸åŒè°±é¢çš„è¯„è®ºè¿›è¡Œç‹¬ç«‹åˆ†æåå†èšåˆã€‚
* **Service**: è´Ÿè´£â€œåšâ€ã€‚åè°ƒå„æ¨¡å—ï¼Œå¯¹å¤–æä¾›ä¸šåŠ¡æ¥å£ã€‚

## ğŸ“š æ–‡æ¡£ (Documentation)

MaiEcho æä¾›äº†è¯¦ç»†çš„å¼€å‘æ–‡æ¡£å’Œä½¿ç”¨æŒ‡å—ï¼Œè¯·è®¿é—® **[æ–‡æ¡£ä¸­å¿ƒ (Documentation Index)](docs/documentation_index.md)** æŸ¥çœ‹å®Œæ•´åˆ—è¡¨ã€‚

### æ ¸å¿ƒæ–‡æ¡£
* **[æ¶æ„è®¾è®¡](docs/modules/server/architecture.md)**: äº†è§£ç³»ç»Ÿçš„æ•´ä½“æ¶æ„å’Œæ¨¡å—åˆ’åˆ†ã€‚
* **[API å‚è€ƒ](docs/api/api_reference.md)**: è¯¦ç»†çš„ HTTP æ¥å£å®šä¹‰å’Œå‚æ•°è¯´æ˜ã€‚
* **[CLI å·¥å…·æŒ‡å—](test/cli/README.md)**: å‘½ä»¤è¡Œæµ‹è¯•å·¥å…·çš„ä½¿ç”¨è¯´æ˜ã€‚

**å¸¸ç”¨ API ç¤ºä¾‹**:

* **è·å–ä¹æ›²åˆ†æç»“æœ**:
  `GET /api/v1/analysis/songs/:id`
* **è§¦å‘ä¹æ›²é‡‡é›†ä»»åŠ¡**:
  `POST /api/v1/collect`
  ```json
  { "game_id": 114514 }
  ```

## ğŸ—ºï¸ å¼€å‘è·¯çº¿ (Roadmap)

- [X]  **Phase 1: æ ¸å¿ƒæ¡†æ¶**
  - [X]  åŸºç¡€çˆ¬è™« (Bilibili)
  - [X]  æ•°æ®åº“æ¨¡å‹è®¾è®¡ (Song/Chart/Comment)
  - [X]  LLM æ¥å…¥ä¸ Prompt å·¥ç¨‹
- [X]  **Phase 2: ç²¾åº¦ä¼˜åŒ–**
  - [X]  æ™ºèƒ½åˆ†æ¡¶åˆ†æ (DX/Std åˆ†ç¦»)
  - [X]  èšåˆåˆ†æ API
- [ ]  **Phase 3: æ‰©å±•ä¸ç”Ÿæ€**
  - [ ]  æ”¯æŒæ›´å¤šæ•°æ®æº (è´´å§ã€Wiki)
  - [ ]  å‘é‡æ•°æ®åº“æ”¯æŒ (è¯­ä¹‰æœç´¢)
  - [ ]  Web å¯è§†åŒ–å‰ç«¯
  - [ ]  æ–°æ­Œæ•°æ®å¢é‡æ›´æ–°

## ğŸ¤ è´¡çŒ® (Contributing)

æ¬¢è¿æäº¤ Issue å’Œ Pull Requestï¼

1. Fork æœ¬ä»“åº“
2. åˆ›å»ºä½ çš„ç‰¹æ€§åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤ä½ çš„ä¿®æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. å¼€å¯ä¸€ä¸ª Pull Request

æ­¤å¤–ï¼Œæ¬¢è¿åŸºäºæ­¤é¡¹ç›®å¼€å‘é€‚ç”¨äºå…¶ä»–éŸ³ä¹æ¸¸æˆçš„ç¤¾åŒºé¡¹ç›®~å¯æIssueå’¨è¯¢ï¼

## ğŸ“„ è®¸å¯è¯ (License)

æœ¬é¡¹ç›®é‡‡ç”¨ [MIT è®¸å¯è¯](LICENSE)ã€‚

## ğŸ™ è‡´è°¢ (Acknowledgements)

* **Diving-Fish (æ°´é±¼)**: æä¾›äº†è¯¦å°½çš„ maimai ä¹æ›²ä¸å®šæ•°æ•°æ®ã€‚
* YuzuChan: æä¾›äº†å…¨é¢çš„æ­Œæ›²åˆ«åæ•°æ®ã€‚
* **å¾®èˆ†**: æœ¬é¡¹ç›®çš„æ¶æ„è®¾è®¡å‚è€ƒäº†å¾®èˆ†æƒ…ç›‘æµ‹ç³»ç»Ÿçš„ç†å¿µã€‚
* **Maimai DX**: æ„Ÿè°¢ SEGAã€åç«‹ç§‘æŠ€ å¸¦æ¥ä¼˜ç§€çš„éŸ³ä¹æ¸¸æˆã€‚

---

<div align="center">
Made with â¤ï¸ by MaiEcho Team
</div>
